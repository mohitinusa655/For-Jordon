<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>For Jorden â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>

body{
margin:0;
height:100vh;
overflow:hidden;
font-family:Segoe UI,sans-serif;
display:flex;
justify-content:center;
align-items:center;
background:radial-gradient(circle,#ff758c,#ff7eb3,#ffc0cb);
}

.star{
position:absolute;
width:2px;
height:2px;
background:white;
border-radius:50%;
opacity:.6;
animation:twinkle 3s infinite alternate;
}

@keyframes twinkle{to{opacity:1}}

.card{
background:rgba(255,255,255,.9);
padding:35px;
border-radius:25px;
text-align:center;
box-shadow:0 25px 50px rgba(0,0,0,.3);
z-index:2;
}

#proposal{display:none;}

.glow{
font-size:38px;
color:#ff4d6d;
text-shadow:0 0 10px pink;
}

button{
padding:12px 26px;
border:none;
border-radius:30px;
font-size:18px;
margin:10px;
cursor:pointer;
}

#yes{background:#ff4d6d;color:white;}
#no{background:#999;position:absolute;}

.ring{
font-size:90px;
cursor:pointer;
animation:pulse 1.5s infinite;
}

@keyframes pulse{50%{transform:scale(1.25)}}

.effect{
position:absolute;
animation:fall 6s linear forwards;
}

@keyframes fall{
from{transform:translateY(-40px);opacity:1}
to{transform:translateY(100vh);opacity:0}
}

#tapMsg{
margin-top:10px;
color:#ff4d6d;
font-weight:bold;
}

#loveMsg{
font-size:32px;
color:#ff4d6d;
margin-top:10px;
}

#lyrics{
margin-top:15px;
color:#ff4d6d;
font-weight:bold;
}

@media(max-width:600px){
.card{width:90%}
.ring{font-size:70px}
.glow{font-size:30px}
}

</style>
</head>

<body>

<audio id="song" loop>
<source src="perfect.mp3" type="audio/mpeg">
</audio>

<script>
for(let i=0;i<130;i++){
let s=document.createElement("div");
s.className="star";
s.style.left=Math.random()*innerWidth+"px";
s.style.top=Math.random()*innerHeight+"px";
document.body.appendChild(s);
}
</script>

<div class="card" id="question">
<h1 class="glow">ğŸ’– Jorden ğŸ’–</h1>
<h2>Will you be my Valentine?</h2>
<button id="yes">Yes ğŸ’˜</button>
<button id="no">No ğŸ™ˆ</button>
</div>

<div class="card" id="proposal">
<h1 class="glow">My Love â¤ï¸ Jorden</h1>
<h2>Will you be mine forever?</h2>
<p id="proposalMsg"></p>
<div class="ring">ğŸ’</div>
<div id="tapMsg">Tap the ring ğŸ’</div>
<div id="loveMsg"></div>
<div id="lyrics"></div>
</div>

<script>

const noBtn=no;
const yesBtn=yes;
const ring=document.querySelector(".ring");
const song=document.getElementById("song");
const tapMsg=document.getElementById("tapMsg");
const loveMsg=document.getElementById("loveMsg");
const proposalMsg=document.getElementById("proposalMsg");
const lyricsDiv=document.getElementById("lyrics");

function moveNo(){
noBtn.style.left=Math.random()*(innerWidth-100)+"px";
noBtn.style.top=Math.random()*(innerHeight-50)+"px";
}

noBtn.onmouseover=moveNo;
noBtn.ontouchstart=moveNo;

yesBtn.onclick=()=>{
question.style.display="none";
proposal.style.display="block";
song.play();
typeText("You are my today, my tomorrow, and my always...");
startLyrics();
};

ring.onclick=()=>{

tapMsg.textContent="";
loveMsg.innerHTML="I love you â¤ï¸";

let drops=0;

const rain=setInterval(()=>{

drop("â¤ï¸");
drop("ğŸŒ¹");

if(Math.random()<.4) drop("ğŸ†");

drops++;

if(drops>40) clearInterval(rain);

},220);
};

function drop(sym){

let e=document.createElement("div");
e.className="effect";
e.textContent=sym;
e.style.left=Math.random()*innerWidth+"px";
e.style.top="-30px";
e.style.fontSize=20+Math.random()*25+"px";
document.body.appendChild(e);

setTimeout(()=>e.remove(),6000);
}

function typeText(t){
proposalMsg.innerHTML="";
t.split("").forEach((c,i)=>{
let s=document.createElement("span");
s.textContent=c;
s.style.opacity=0;
s.style.animation=`fade .05s forwards`;
s.style.animationDelay=i*.08+"s";
proposalMsg.appendChild(s);
});
}

const style=document.createElement("style");
style.innerHTML="@keyframes fade{to{opacity:1}}";
document.head.appendChild(style);

const lyrics=[
{time:0,text:"Jorden, you're my dream ğŸ’•"},
{time:10,text:"My heart beats for you"},
{time:20,text:"Forever and always"},
{time:30,text:"Will you be mine?"}
];

function startLyrics(){
setInterval(()=>{
let t=Math.floor(song.currentTime);
let l=lyrics.find(x=>x.time===t);
if(l) lyricsDiv.textContent=l.text;
},500);
}

song.addEventListener("timeupdate",()=>{
if(Math.random()<.01) drop("ğŸ†");
});

</script>

</body>
</html>
